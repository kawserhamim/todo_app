{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<div class="container mt-4" style="background-color: #f8f9fa; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
  
  <form method="post" class="mb-4" style="background: white; padding: 20px; border-radius: 8px; border-left: 4px solid #5c6bc0;">
    {% csrf_token %}
    {{ form|crispy }}
    
  </form>
  
  <div class="card shadow-sm" style="border-radius: 8px; border: 1px solid #e0e0e0;">
    <div class="card-header" style="background-color: #5c6bc0; color: white;">
      <h4 class="mb-0">Task List</h4>
    </div>
    <table class="table table-striped mb-0">
      <thead>
        <tr style="background-color: #e8eaf6;">
          <th scope="col" style="color: #3949ab; font-weight: 500;">ID</th>
          <th scope="col" style="color: #3949ab; font-weight: 500;">Author</th>
          <th scope="col" style="color: #3949ab; font-weight: 500;">Created Date</th>
          <th scope="col" style="color: #3949ab; font-weight: 500;">Todo</th>
          <th scope="col" style="color: #3949ab; font-weight: 500;">Edit</th>
          <th scope="col" style="color: #3949ab; font-weight: 500;">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for task in tasks %}
          <tr>
            <th scope="row" style="color: #5c6bc0;">{{ task.id }}</th>
            <td>{{ task.user.username }}</td>
            <td>{{ task.created_date }}</td>
            <td>{{ task.task }}</td>
            <td>
              <a href="{% url 'update_task_view' task.id %}" class="btn btn-sm" style="background-color: #ffb74d; border-color: #ffb74d; color: white;">
                ✏️ Edit
              </a>
            </td>
            <td>
              <a href="{% url 'delete_task_view' task.id %}" class="btn btn-danger btn-sm">
                🗑️ Delete
              </a>
            </td>
          </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="text-center" style="padding: 20px; color: #757575;">
            No tasks available
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  
  <div class="text-center mt-4">
     <a href="{% url 'create_task_view' %}" class="btn btn-outline-danger" style="border-width: 2px; font-weight: 500 ;  ">
      Add Task
    </a>
  
  </div>
    
</div>
<br>
 <h3 class="text-center"> <a href="{% url 'logout' %}" class="btn btn-danger" 
           style="background: darkgreen; border: none; box-shadow: 0 4px 15px rgba(255, 87, 34, 0.3);">
            <span style="color: white;">🚪 Logout</span>
        </a></h3>
{% endblock %}